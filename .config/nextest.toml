experimental = ["wrapper-scripts"]

[profile.ci]
slow-timeout = { period = "30s", terminate-after = 4 }

[scripts.wrapper.backtrace-on-timeout]
command = "../scripts/backtrace-on-timeout.sh"

[[profile.ci.scripts]]
filter = "all()"
run-wrapper = "backtrace-on-timeout"

[profile.dst]
slow-timeout = { period = "30m", terminate-after = 1 }
default-filter = "package(slatedb-dst) & test(dst)"

[[profile.dst.scripts]]
filter = "all()"
run-wrapper = "backtrace-on-timeout"
